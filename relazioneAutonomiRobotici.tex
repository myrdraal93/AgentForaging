
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%12pt: grandezza carattere
%a4paper: formato a4
%openright: apre i capitoli a destra
%twoside: serve per fare un
%   documento fronteretro
%report: stile tesi (oppure book)
\documentclass[12pt,a4paper,openright,twoside]{report}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per scrivere in italiano
\usepackage[italian]{babel}
\usepackage{lscape}
\usepackage{rotating}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per accettare i caratteri
%   digitati da tastiera come Ã¨ Ã 
%   si puÃ² usare anche
%   \usepackage[T1]{fontenc}
%   perÃ² con questa libreria
%   il tempo di compilazione
%   aumenta
\usepackage[utf8]{inputenc}
%\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per impostare il documento
\usepackage{fancyhdr}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per avere l'indentazione
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   all'inizio dei capitoli, ...
\usepackage{indentfirst}
%
%%%%%%%%%libreria per mostrare le etichette
%\usepackage{showkeys}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per inserire grafici
\usepackage{graphicx}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%libreria per utilizzare font
%   particolari ad esempio
%   \textsc{}

\usepackage{newlfont}

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%librerie matematiche
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{amsthm}
%
\oddsidemargin=30pt \evensidemargin=20pt%impostano i margini
\hyphenation{sil-la-ba-zio-ne pa-ren-te-si}%serve per la sillabazione: tra parentesi 
%vanno inserite come nell'esempio le parole 
%					   %che latex non riesce a tagliare nel modo giusto andando a capo.

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%comandi per l'impostazione
%   della pagina, vedi il manuale
%   della libreria fancyhdr
%   per ulteriori delucidazioni
\pagestyle{fancy}\addtolength{\headwidth}{20pt}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection \ #1}{}}
\rhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\thepage}}
\cfoot{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\linespread{1.3}                        %comando per impostare l'interlinea
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%definisce nuovi comandi
%
\begin{document}

	\pagenumbering{roman}                   %serve per mettere i numeri romani
	\chapter*{Introduzione}                 %crea l'introduzione (un capitolo
	%   non numerato)
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%imposta l'intestazione di pagina
	\rhead[\fancyplain{}{\bfseries
		INTRODUZIONE}]{\fancyplain{}{\bfseries\thepage}}
	\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries
			INTRODUZIONE}}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%aggiunge la voce Introduzione
	%   nell'indice
	\addcontentsline{toc}{chapter}{Introduzione}

La stigmergy è una forma indiretta di coordinazione tra agenti che sfrutta l'ambiente. In particolare, la comunicazione avviene tramite modifiche da parte degli agenti sull'ambiente [1]. Le formiche sono una tra le specie animali che sfruttano questo tipo di coordinazione.\\
Le formiche che si occupano della ricerca del cibo, una volta individuato, durante il ritorno al formicaio, rilasciano feromone nell'ambiente; in modo da comunicare il percorso da effettuare. Inoltre, all'interno del formicaio, effettuano corpse clustering nelle zone in cui sono custodite le larve; in modo da proteggerle.\\
Ispirandosi al comportamento delle formiche, si è voluto simulare, tramite MAS, il fenomeno del foraging e del corpse clustering; adottando come meccanismo di coordinazione indiretta la stigmergy. Per quanto concerne il foraging, sono state realizzate diverse metodologie. Inoltre, è stato realizzato una forma di trasporto cooperativo in caso di oggetti troppo pesanti per il singolo agente.\\
Lo scopo di questa simulazione è:

\begin{itemize}
	\item Riprodurre il foraging delle formiche; con lo scopo di ottenere come risultato di un fenomeno emergente, lo shortest path
	\item Ottenere il trasporto cooperativo come risultato di un fenomeno emergente
	\item Effettuare corpse clustering degli oggetti recuperati
	\item Suddivisione del lavoro tra foraging e corpse clustering
\end{itemize}

Verranno inoltre analizzate le diverse metodologie realizzate per il foraging.\\
La tecnologia scelta per questa simulazione è il linguaggio ad agenti Jason.
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
	\clearpage{\pagestyle{empty}\cleardoublepage}
	\tableofcontents                        %crea l'indice
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%imposta l'intestazione di pagina
	\rhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\thepage}}
	\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries
			INDICE}}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
	\clearpage{\pagestyle{empty}\cleardoublepage}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
	\clearpage{\pagestyle{empty}\cleardoublepage}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
	\clearpage{\pagestyle{empty}\cleardoublepage}
	\chapter{Modello}                %crea il capitolo
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%imposta l'intestazione di pagina
	\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}
	\pagenumbering{arabic}                  %mette i numeri arabi

Il modello realizzato è una semplificazione della realtà e si basa su alcune assunzioni. Inoltre, si ispira al comportamento delle formiche, ma non replica completamente il loro reale comportamento; poiché alcuni comportamenti restano ancora sconosciuti alla comunità scientifica o variano a seconda della specie.

\section{Assunzioni}

Come detto nell'introduzione del capitolo, per la realizzazione di questo modello, sono state fatte alcune assunzioni:

\begin{itemize}
	\item Il sistema è testato su un'arena con una particolare conformazione. Non è quindi possibile garantire la replicazione dei risultati in arene con conformazione differente da quella presente nella figura successiva.
	\item Alcuni modelli per il foraging rilasciano più feromoni; differenti tra loro. Si assume che questi possano coesistere nell'ambiente.
	\item A un intervallo di tempo predefinito, gli oggetti presenti nell'arena verranno aggiunti nuovamente; senza  oltrepassare una certa soglia.
	\item Il numero di oggetti utilizzati per il clustering non può superare una certa soglia.
\end{itemize}

\section{Arena}

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/Arena"}
	\\Figura 1.1: Arena
\end{center}

L'arena è formata da una griglia 100x100 non toroidale, suddivisa in due parti.\\
L'area all'interno dei bordi grigi rappresenta l'ambiente esplorabile dagli agenti per il recupero degli oggetti. Come visibile, al centro è presente un blocco asimmetrico che rappresenta un ostacolo. L'area in rosso rappresenta il nido degli agenti, mentre l'area in giallo la zona in cui sono presenti gli oggetti.\\
La parte superiore dell'arena rappresenta l'interno del nido; in cui verranno depositati gli oggetti recuperati e che verranno aggregati in un secondo momento.\\
Agli agenti è associato un colore che rappresenta il loro stato corrente; che può essere:

\begin{itemize}
	\item verde: l'agente è alla ricerca degli oggetti o è di ritorno al nido
	\item blu: l'agente è di ritorno al nido con un oggetto
	\item arancione: l'agente sta trasportando un oggetto in modalità cooperativa
\end{itemize}

\section{Foraging}

Per replicare il fenomeno presente in natura dell'ant-foraging, sono state sviluppate diverse metodologie.
Anche se si contrappone con un'assunzione fatta nella sezione precedente, poiché, al momento siamo interessati solo al fenomeno del foraging, si assume che le risorse non si esauriscano e che non sia necessario un trasporto cooperativo.\\
Di seguito sono presenti i parametri utilizzati per testare le diverse metodologie:\\

\begin{tabular}{p{5cm}|p{5cm}} 
	 \textbf{ Parametri} & \textbf{ Valori} \\ \hline
	 N. Agenti & 100 \\
	 Feromone min. & 0 \\
	 Feromone max. & 10000 \\
	 Feromone rilasciato & 10\\
	 \% Evaporazione & 30 \% \\
	 Tempo evaporazione & 10 s \\
	 Refresh rate & 50 ms 
\end{tabular}
\\\\
Per ogni metodologia inoltre, si considerano due tipi di spostamento dell'agente. Il primo tipo consente all'agente di muoversi in ogni direzione (8 possibili direzioni: N, NE, NO, S, SE, SO, E, O). Il secondo tipo, invece, non consente all'agente di muoversi nella direzione da cui proviene; limitando la libertà di movimento a 5 possibili opzioni (es: se è alla ricerca del cibo, non potrà muoversi in direzione: NO, O e SO).
\subsection{Metodologia 1}

La prima metodologia è stata sviluppata adottando l'algoritmo Ant System; il primo algoritmo ACO.
Tale algoritmo, per determinare la posizione successiva nella quale l'agente deve spostarsi, prende in considerazione due valori:

\begin{itemize}
	\item L'aspettativa a priori $\eta$; indica l'attrattività a priori della mossa.
	\item Il livello di feromone $\tau$; indica l'utilità a posteriori della mossa.
\end{itemize}

L'aspettativa a priori è stata calcolata tramite la seguente euristica. \\

\begin{verbatim}
for(int column=0;column<100;column++){
    for(int row=0;row<100;row++){
        eta[column][row]= maxDistance - distance[column][row];
    }
}
\end{verbatim}

L'euristica è stata calcolata sia per la zona in cui sono presenti gli oggetti che per il nido. Questo perchè l'agente è stato modellato in modo che non ricordi la strada percorsa.\\
Come visibile, l'attrattività per una coordinata è data dalla differenza tra la distanza dal punto di interesse e quella massima in assoluto. La distanza tra due punti \textit{i},\textit{j} è stata calcolata come: $|x_i-x_j|+|y_i-y_j|$\\
Sia per il nido che per la zona in cui sono presenti gli oggetti, i punti di interesse sono quattro; per cui, sono state sommate le attrattività dei vari punti di interesse.\\
Per quanto concerne il rilascio del feromone, l'agente rilascia una quantità costante ad ogni spostamento solo quando è di ritorno al nido. \\
Per un agente \textit{k}, La probabilità $p^k_{\iota\psi}$  di muoversi dalla posizione $\iota$ alla posizione $\psi$, quando è alla ricerca degli oggetti, è data da: $p^k_{\iota\psi}= \dfrac{\tau^\alpha_{\iota\psi}\eta^\beta_{\iota\psi}}{\Sigma_k\tau^\alpha_{\iota k}\eta^\beta_{\iota k}}$. \\
Quando l'agente è di ritorno al nido, la probabilità  $p^k_{\iota\psi}$ di muoversi dalla posizione $\iota$ alla posizione $\psi$ è data da: $p^k_{\iota\psi}= \dfrac{\eta_{\iota\psi}}{\Sigma_k\eta_{\iota k}}$.

\subsubsection{Risultati}

All'avvio, con una completa libertà di spostamento, poiché il livello di feromone è nullo e, nonostante l'euristica suggerisca il percorso, gli agenti impiegano del tempo prima di raggiungere la zona in cui sono presenti gli oggetti. %Una volta che alcuni agenti recuperano gli oggetti e iniziano a rilasciare il feromone, gli altri agenti dovrebbero iniziare a dirigersi verso la zona di recupero con una maggiore facilità.\\
Di seguito è presente una figura che ritrae lo stato del sistema dopo 30 secondi dall'avvio

\begin{center}  
	\includegraphics[width=0.8\linewidth]{"Desktop/Sistemi Robotici/4_8_1"}
	\\Figura 1.2: Situazione dopo 30 secondi
\end{center}

Dopo 30 secondi circa, la maggior parte degli agenti si trova nei pressi del nido. Dopo 1 minuto, alcuni agenti hanno recuperato un oggetto e si dirigono verso il nido, mentre gli agenti restanti iniziano anch'essi a dirigersi verso la zona di recupero.

\begin{center}  
	\includegraphics[width=0.8\linewidth]{"Desktop/Sistemi Robotici/4_8_2"}
	\\Figura 1.3: Situazione dopo 1 minuto
\end{center}

In generale, gli agenti impiegano troppo tempo per muoversi dal nido all'area in cui sono presenti gli oggetti. La causa si può riscontrare nel calcolo della probabilità di spostamento nella successiva posizione. Avendo a disposizione 8 possibili destinazioni, le probabilità di spostamento nelle diverse posizioni sono simili tra loro. Ciò è dovuto all'euristica calcolata; in quanto, la differenza tra $\eta_{\psi,\iota}$ e $\eta_{\psi,\iota+1}]$ ad esempio, è di 1.\\
Inoltre, dopo 5 minuti circa, non emerge lo shortest path e, prima che emerga, potrebbe essere necessario del tempo.

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/4_8_4"}
	\\Figura 1.4: Situazione dopo 5 minuti
\end{center}

Le difficoltà maggiori si verificano al momento del ritorno, in quanto, la posizione successiva dell'agente viene determinata in modo probabilistico facendo affidamento solamente sull'euristica. Analogamente, gli agenti riscontrano difficoltà nel raggiungere la zona di recupero all'inizio, a causa dell'assenza di feromone.\\
Limitando la libertà di scelta della posizione successiva a solo 5 opzioni, si è ottenuto un miglioramento.\\
Pochi secondi dopo l'avvio del sistema, gli agenti si trovano subito nei pressi dell'ostacolo e scelgono un percorso.\\
Dopo 10 secondi circa, i primi agenti ritornano al nido.\\

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/4_5_2"}
	\\Figura 1.5: Situazione dopo 10 secondi con minore libertà di spostamento
\end{center}

Dopo 1 minuto si presenta la seguente situazione: gli agenti, soprattutto al ritorno, quando si trovano dinnanzi a un ostacolo, possono muoversi in due direzioni (nel caso dell'arena, possono muoversi in direzione nord o sud) e si bloccano cambiando continuamente posizione ed è necessario un quantitativo di tempo non irrilevante prima che superino l'ostacolo. Nonostante questo problema, è sufficiente un minuto, per notare come gli agenti, che inizialmente avevano scelto il percorso più lungo, successivamente; tendono a scegliere il percorso più corto; generando il fenomeno emergente dello shortest path.

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/4_5_3"}
	\\Figura 1.6: Situazione dopo 1 minuto con minore libertà di spostamento
\end{center}

In conclusione, questa metodologia, lasciando completa libertà di movimento agli agenti, risulta essere inefficace. Per contro, limitando il movimento agli agenti, si ottiene un miglioramento, anche se, gli agenti presentano delle difficoltà nell'evitare gli ostacoli.\\
Inoltre, questa metodologia, al di là dei risultati, richiede una conoscenza a priori dell'ambiente in cui gli agenti sono situati in modo da costruire l'attrattività a priori $\eta$.

\subsection{Metodologia 2}

La seconda metodologia utilizza un approccio completamente diverso dalla prima che non richiede una conoscenza a priori dell'ambiente. [3] hanno simulato l'ant foraging utilizzando due tipi di feromoni, assumendo che essi possano coesistere nell'ambiente. La seguente metodologia utilizza quella adottata da [3].\\
Un agente, quando è alla ricerca degli oggetti, rilascia un feromone $\gamma$, mentre, quando è di ritorno al nido, rilascia un feromone $\tau$.\\
La probabilità $p^k_{\iota\psi}$ per un agente \textit{k} di muoversi dalla posizione $\iota$ alla posizione $\psi$, quando è alla ricerca degli oggetti, è data da: $p^k_{\iota\psi}= \dfrac{\tau_{\iota\psi}}{\Sigma_k\tau_{\iota k}}$.\\
Analogamente, la probabilità $p^k_{\iota\psi}$ per un agente \textit{k} di muoversi dalla posizione $\iota$ alla posizione $\psi$, quando è alla ricerca del nido, è data da: $p^k_{\iota\psi}= \dfrac{\gamma_{\iota\psi}}{\Sigma_k\gamma_{\iota k}}$.\\
In questo modo, verranno a formarsi due scie di feromone, che indicheranno il percorso per tornare al nido e il percorso per recuperare gli oggetti.\\

\subsubsection{Risultati}

Lasciando una completa libertà di movimento agli agenti, inizialmente, si ha un risultato simile alla metodologia vista nel paragrafo precedente. Ovvero è necessario quasi un minuto prima che diversi agenti recuperino degli oggetti. Inoltre, dopo svariati minuti, non si ha una formazione dello shortest path.
\\A differenza della precedente metodologia, però, si genera un fenomeno emergente interessante. Se un agente di ritorno al nido, incontra un agente che è alla ricerca degli oggetti, a causa dei due feromoni rilasciati, si crea un massimo locale e, gli agenti che sono di ritorno al nido, seguono gli agenti alla ricerca degli oggetti e viceversa. Come visibile nella figura seguente, gli agenti alla ricerca degli oggetti tendono ad aggregarsi tra loro e muoversi nelle zone in cui è presente l'agente che sta trasportando un oggetto.\\

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/6_8_1"}
	\\Figura 1.7: Aggregazione di agenti
\end{center}

Limitando la scelta della posizione successiva, si ottiene un miglioramento. Anche in questo caso, dopo 10 secondi circa, i primi agenti ritornano al nido con un oggetto. Dopo 20/30 secondi circa, emerge lo shortest path e il numero di agenti che prediligono il percorso più lungo è limitato. Con il passare del tempo, tale percorso viene abbandonato. Tuttavia, anche questa soluzione risulta essere poco adatta. Quando un agente si trova dinnanzi a un ostacolo, come per la metodologia precedente, la scelta della posizione successiva è ridotta a due alternative e, se in quell'intorno, la presenza di feromone è uguale o simile, la probabilità di muoversi in una delle due direzioni è di circa il 50\%. E' quindi necessario un certo quantitativo di tempo prima che l'agente superi l'ostacolo.\\

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/6_5_1"}
	\\Figura 1.8: Agenti bloccati con minore libertà di movimento
\end{center}

Rispetto alla prima metodologia, la soluzione, con piena libertà di movimento risulta essere peggiore, mentre, la soluzione con una libertà di movimento ridotta, risulta essere equivalente alla rispettiva soluzione della metodologia precedente. Naturalmente questa soluzione è preferibile in quanto non richiede una conoscenza a priori dell'ambiente.

\subsection{Metodologia 3}

Tale metodologia si propone come una soluzione ibrida tra le due precedenti, finalizzata alla risoluzione dei problemi emersi dalle metodologie precedenti.\\
La probabilità $p^k_{\iota\psi}$ per un agente \textit{k} di muoversi dalla posizione $\iota$ alla posizione $\psi$, quando è alla ricerca di oggetti, è data da: $p^k_{\iota\psi}= \dfrac{\tau^\alpha_{\iota\psi}\eta^\beta_{\iota\psi}}{\Sigma_k\tau^\alpha_{\iota k}\eta^\beta_{\iota k}}$. \\
La probabilità $p^k_{\iota\psi}$ per un agente \textit{k} di muoversi dalla posizione $\iota$ alla posizione $\psi$, quando è alla ricerca del nido, è data da: $p^k_{\iota\psi}= \dfrac{\gamma^\alpha_{\iota\psi}\eta^\beta_{\iota\psi}}{\Sigma_k\gamma^\alpha_{\iota k}\eta^\beta_{\iota k}}$. \\
L'attrattività a priori $\eta$ è stata calcolata esattamente come nella prima metodologia.\\

\subsubsection{Risultati}

Con una piena libertà di movimento, tale metodologia risolve i problemi della prima metodologia, ma non risolve completamente il problema dell'aggregazione degli agenti della seconda metodologia.\\
Come visibile nella figura successiva, alcuni agenti riescono a ritornare al nido, ma si verifica ancora il fenomeno dell'aggregazione. A differenza della seconda metodologia, grazie all'attrattività a priori che suggerisce il percorso preferibile da percorrere, gli agenti riescono a "rompere" l'aggregazione e a proseguire. Purtroppo, è necessario del tempo prima gli agenti riescano a rompere l'aggregazione.\\

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/1_8_1"}
	\\Figura 1.8: Situazione dopo 3 minuti
\end{center}

Riducendo le possibilità di scelta della posizione successiva, invece, il miglioramento è notevole. Come per le metodologie precedenti, dopo pochi secondi, alcuni agenti raggiungono il nido. Inoltre, come visibile nella figura successiva, dopo un minuto, emerge lo shortest path. Dopo 2 minuti circa, il percorso più lungo è percorso da pochi agenti.\\

\begin{center}  
	\includegraphics[width=1\linewidth]{"Desktop/Sistemi Robotici/1_5_2"}
	\\Figura 1.9: Situazione dopo 2 minuti con minore libertà di movimento
\end{center}

Come per le precedenti metodologie, con minore libertà di scelta, gli agenti possono presentare delle difficoltà nell'aggirare gli ostacoli. Se con le precedenti metodologie potevano essere necessari dei minuti, ora, dopo pochi secondi, gli agenti sono in grado di aggirarli.

\subsection{Conclusioni}

La miglior metodologia in assoluto risulta essere la terza, ma con una limitazione sulla possibile posizione successiva. Per contro, tale soluzione richiede una conoscenza a priori dell'ambiente in cui gli agenti sono situati. Se non si dispongono di tali informazioni, allora, la seconda metodologia, sempre con delle limitazioni sui movimenti è la più adatta; anche se, potrebbero essere necessari dei minuti prima che gli agenti superino gli ostacoli.

\section{Trasporto cooperativo}

Il trasporto cooperativo realizzato è il risultato di un fenomeno emergente. Ogni agente, determina indipendentemente dagli altri, la posizione successiva. Così facendo, ogni agente applica una forza sull'oggetto. In base alle somme delle forze applicate, prevale una direzione piuttosto che un'altra.\\
Ad ogni agente è associato un peso che varia tra 0 e 5, mentre ad ogni oggetto è associato un peso che varia tra 0 e 70. Un agente è in grado di trasportare 5 volte il suo peso. Se il peso dell'oggetto è 5 volte superiore a quello dell'agente, quest'ultimo, mediante l'ambiente, applica un meccanismo di reclutamento. Rilascia un feromone nella posizione in cui si trova, in modo da aumentare la probabilità degli altri agenti di dirigersi nella posizione in cui è richiesto aiuto. Inoltre, rilascia un altro tipo di feromone sull'oggetto; in modo da aumentare la probabilità di ricevere aiuto da parte degli altri agenti. Gli agenti, una volta giunti nell'area in cui sono presenti gli oggetti, selezionano l'oggetto da trasportare nel seguente modo: $P_i =\dfrac{\gamma_i}{\Sigma_k \gamma_k}$.\\ Se gli agenti che giungono in aiuto non sono in grado di trasportare l'oggetto, anch'essi rilasciano del feromone.\\
Quando gli agenti sono in grado di trasportare l'oggetto, interrompono il reclutamento.

\section{Corpse clustering}

Il clustering degli oggetti si basa sull'attrazione di un agente di depositare un oggetto in una zona. La probabilità che un agente prenda un oggetto è calcolata come: $\dfrac{k1}{(k1+f)^2}$. La probabilità che un agente lasci l'oggetto è invece calcolata come: $\dfrac{f}{(k2+f)^2}$. Dove \textit{k1} e \textit{k2} sono costanti mentre \textit{f} è il numero di oggetti presenti nella zona percepiti dall'agente.\\
Quando un oggetto viene riportato al nido, quest'ultimo viene posizionato in un punto random all'interno del nido.\\
Quando un agente decide di occuparsi del corpse clustering, viene posizionato in un punto random all'interno del nido ed effettua 100 spostamenti random. Se entro 100 spostamenti trova un oggetto da rilevare, lo prende e lo rilascia in una nuova posizione in base ai criteri spiegati precedentemente. Una volta depositato l'oggetto, se gli spostamenti effettuati sono minori di 100, continua con la ricerca di altri oggetti da spostare; altrimenti valuta se continuare con il corpse clustering o se iniziare la ricerca degli oggetti.

\section{Suddivisione dei task} 
Quando un agente ritorna al nido, valuta se il suo prossimo task consiste nell'andare nuovamente alla ricerca degli oggetti. Tale valutazione avviene tramite calcolo probabilistico. Se l'agente non dovesse occuparsi del recupero degli oggetti, allora, valuterà se effettuare corpse clustering. Anche tale valutazione avviene tramite calcolo probabilistico. Di seguito è possibile trovare il criterio con cui si calcola la probabilità di un agente di eseguire un task.\\


\begin{verbatim}
if(succeeded){
    success <- success+1
    fail <- 0
    P <- max(Max,P+success*delta)
}else{
    success <- 0
    fail <- fail+1
    P <- min(Min,P-fail*delta)
}
\end{verbatim}

In questo modo, un agente che è meno propenso a trasportare oggetti nel nido, avrà minore possibilità di andare alla ricerca degli oggetti. Non è detto che tale agente sia invece più propenso a effettuare corpse clustering; in quanto, anche per questo task, è associata una probabilità se eseguire o meno tale operazione. Si possono verificare dei casi in cui degli agenti non siano adatti nè per il recupero degli oggetti nè per il corpse clustering.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
\clearpage{\pagestyle{empty}\cleardoublepage}
\chapter{Comportamento}                %crea il capitolo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%imposta l'intestazione di pagina
\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}

I parametri che possono influenzare il comportamento globale del sistema e, la scelta di un agente su quale task perseguire, dipende dai seguenti parametri:\\

\begin{itemize}
	\item Tempo evaporazione feromone;
	\item Numero delle risorse;
	\item Esaurimento/Ricarica delle risorse;
	\item Percentuale evaporazione feromone;
	\item Probabilità minima di eseguire un task;
	\item Costanti per valutare se prendere/rilasciare un oggetto;
\end{itemize}

Tramite questi parametri si può ottenere una suddivisione del lavoro bilanciata, oppure, delle situazioni estreme.\\
Ad esempio, con un basso tempo di evaporazione (es: un secondo) e con un'alta percentuale di evaporazione (circa il 90\%) non emerge il fenomeno dello shortest path.\\
Mantenendo un tempo di ricarica delle risorse basso, invece, gli agenti saranno più propensi ad effettuare il recupero degli oggetti piuttosto che al corpse clustering. Si ottiene l'effetto contrario nel caso in cui il tempo di ricarica sia elevato. Con l'esaurimento delle risorse invece, si arriverebbe a un punto in cui tutti gli agenti si occuperebbero del corpse clustering.\\
Si può ottenere anche una situazione in cui gli agenti non perseguono nessun obiettivo. Questa situazione si può ottenere impostando la probabilità minima di eseguire un task pari a 0 e con l'esaurimento delle risorse.\\
La rapidità con cui si formano dei cluster dipende anche dal numero di agenti che prendono parte a questa operazione. Naturalmente, un numero elevato di agenti rende più rapida questa operazione, ma un numero troppo elevato potrebbe sortire l'effetto contrario.\\
Poiché tramite immagini non è possibile mostrare il comportamento del sistema, sono stati realizzati diversi video a seconda della diversa configurazione dei parametri.

\begin{center}  
	\includegraphics[width=0.7\linewidth]{"Desktop/Sistemi Robotici/2_0"}
	\\Figura 5.1: Stato del sistema
\end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%non numera l'ultima pagina sinistra
\clearpage{\pagestyle{empty}\cleardoublepage}
\chapter{Conclusioni}                %crea il capitolo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%imposta l'intestazione di pagina
\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}

Analizzando le varie metodologie è emerso che, con una completa libertà di movimento, nessuna metodologia risulta essere adatta, in quanto presentano dei problemi non irrilevanti. Limitando la libertà nel determinare la posizione successiva in cui un agente può spostarsi, invece, la terza metodologia risulta essere la più adatta. Tale metodologia, però, richiede una conoscenza a priori dell'ambiente. Risulta quindi essere adatta qualora si voglia realizzare un modello che simuli il comportamento delle formiche.\\
Qualora si voglia adottare una di queste metodologie in un contesto reale, la più adatta risulta essere la seconda metodologia. In un contesto reale, però, è necessario adottare degli accorgimenti qualora l'agente si trovasse davanti a un ostacolo.\\
In un contesto reale, inoltre, si pone la problematica del feromone da utilizzare. Per la realizzazione di questa soluzione, gli agenti potrebbero rilasciare un gas nell'ambiente che non sia nocivo per l'uomo ed essere dotati di sensoristica che permetta una rilevazione. Naturalmente, si assume che i gas possano coesistere.

	\clearpage{\pagestyle{empty}\cleardoublepage}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%per fare le conclusioni
	\begin{thebibliography}{90}             %crea l'ambiente bibliografia
		\rhead[\fancyplain{}{\bfseries \leftmark}]{\fancyplain{}{\bfseries
				\thepage}}
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%aggiunge la voce Bibliografia
		%   nell'indice
		\addcontentsline{toc}{chapter}{Riferimenti}
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%provare anche questo comando:
		%%%%%%%%%%%\addcontentsline{toc}{chapter}{\numberline{}{Bibliografia}}
		\bibitem{K1} A. Roli - \textit{Course's slides}
		\bibitem{K2} A. Omicini - \textit{Course's slides}  
		\bibitem{K3} Liviu A. Panait, Sean Luke - \textit{Ant Foraging Revisited}
	\end{thebibliography}

\end{document}